const fs = require('fs');

const isToolkit = __dirname.includes('node_modules');

const customComponentsPath = () => {
	if (isToolkit && fs.existsSync(`${__dirname}/../../../../customComponents`)) {
		return ['../../../../customComponents/**/*.story.@(jsx|mdx)']
	};
	return [];
};

module.exports = {
	stories: [
		'../src/**/*.story.jsx',
		'../src/**/*.story.mdx',
		'../docs/**/*.story.mdx',
		...customComponentsPath()
	],
	addons: ['@storybook/addon-knobs', '@storybook/addon-a11y', '@storybook/addon-docs', '@storybook/addon-viewport', './grid-addon/register']
};
